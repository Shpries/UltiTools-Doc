# 自主排错

自主排错&自助修复请从上到下依次完成步骤，直到问题解决。

如果在完成之前就解决问题，则不需要执行完全部步骤。

另外寻求帮助前，**请 务必 务必 务必 认真阅读使用文档**


## 基础部分

### 兼容问题
本插件基于 Spigot 开发，支持1.8-1.19版本，请使用 Spigot 或基于 Spigot 的服务端，

由于本插件使用了一些Spigot特有的API，所以建议不要使用 Bukkit 服务端，这会导致某些功能无法使用

本插件未能完美支持MOD端，若使用MOD端可能会出现各种无端bug，请谅解。

在一般情况下市面上大部分的核心都能运行插件的大部分功能

### 出现Bug时

- 检查你的核心是否为最新版本，如果不是请使用官方BuildTools构建最新版本，大部分问题可以在这里解决
- 请检查你的UltiKits各插件的版本是否为最新版本，旧版本可能会有各种bug，强烈建议开启配置文件中的自动检测更新功能！
- 排除其他插件的错误，排除和其他插件的冲突，请确认一下单独使用UltiKits插件开服会不会有问题，有可能是和其他插件有冲突的原因。
- 若刚修改完配置，建议重启服务器而不是重载服务器

如果以上方法全都不奏效，请反馈到 GitHub Issue 或 QQ 群

### 关于配置文件

请至少了解一下YAML语法。

一些常犯的错误：

1. 冒号后面无空格。（错误） 所有的冒号后面**都有一个空格**（必须加）
2. 缩进错误 缩进必须对齐
3. 正确/错误（布尔值） **正确是true，错误是false（全部小写）**
4. 列表问题 **空列表是[]**，需要加东西的话是 “-“ 开头，”-“ **后面有一个空格**

::: danger 

配置文件若出现格式错误，插件将会重置配置文件

:::

## 常见问题

### 插件无法载入？

1.请检查是否安装了所有的前置插件

UltiTools 前置：

- PlaceHolderAPI 
- Vault
- UltiCore

至少要有这三个插件才能正常运行！！！

2.检查插件是否完整

**下载插件请到 Spigot 论坛，不要到 MCBBS 下载！**

**下载插件请到 Spigot 论坛，不要到 MCBBS 下载！**

**下载插件请到 Spigot 论坛，不要到 MCBBS 下载！**

(重要的话重复三遍)

在 MCBBS 下载的插件是远古版本的并且有可能是损坏的文件(39KB)， 服务器是无法加载的！

2.检查PlaceHolderAPI插件版本是否正确

PlaceHolderAPI 有两个版本，分别是 Nukkit 版和 Bukkit 版

需要的是 Bukkit 版！ Nukkit 版服务器是无法加载的！下载的时候请看清楚了！

### 变量未生效？

**如果安装了PlaceHolderAPI**，遇到某些地方显示(如侧边栏) 类似 %some_var% 的文字出现，那么就有三种情况

 1. 变量未安装
 2. 这个地方不支持PAPI变量
 3. 变量名称错误

首先最大的可能就是没有安装变量

除了类似 %some_var% 的文字以外，你还有可能在控制台看到类似以下报错：

` java.util.UnknownFormatConversionException: Conversion = ‘xxx’ `

请在服务器内使用OP权限或在控制台执行这些命令，并重启服务器。

```bash
/PAPI ecloud download [var_name]
/PAPI reload
```

`[var_name]` 替换成要下载的变量名称

特别地，如果你发现有这样的报错：

` java.util.UnknownFormatConversionException: Conversion = ‘u’ `

原因是你没有安装 UltiLevel 插件，papi无法找到ul开头的变量。

检查整个所有配置文件中带有ul开头的变量，修改或者删除

你也可以选择安装 UltiLevel

2，3点请自行检查，这里就不赘述了

### 头部显示为什么显示一半？

这这情况一般会在 1.12.2及以下的服务端会出现

这些版本的服务端有12个字符的前后缀限制，超出会报错

UltiTools 为防止报错刷屏，对前后缀进行了裁剪